; The Lost Tomb
;
; Copyright (c) 2025 Dmitry Shechtman


DEF Y_WINDOW_INIT  EQU SCREEN_HEIGHT_PX
DEF Y_WINDOW_FINAL EQU SCREEN_HEIGHT_PX - 8
DEF X_WINDOW_INIT  EQU WX_OFS

DEF T_EYE          EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.eye - JudgeObj8Tiles)) / 4"
DEF O_EYE_LEFT     EQU   0
DEF Y_EYE          EQU  49
DEF X_EYE_LEFT     EQU 136

DEF T_NOSE         EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.nose - JudgeObj8Tiles)) / 4"
DEF O_NOSE         EQU O_EYE_LEFT    + 1

DEF O_EYE_RIGHT    EQU O_NOSE        + 1
DEF X_EYE_RIGHT    EQU 149

DEF T_SCARF        EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.end - JudgeObj8Tiles) + (JudgeObj16Tiles.scarf - JudgeObj16Tiles) / 2) / 4"
DEF O_SCARF_RIGHT  EQU O_EYE_RIGHT  + 1
DEF X_SCARF_RIGHT  EQU 149

DEF O_SCARF_LEFT   EQU O_SCARF_RIGHT + 1
DEF Y_SCARF        EQU  80
DEF X_SCARF_LEFT   EQU 136

DEF T_MOUTH        EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.mouth - JudgeObj8Tiles)) / 4"
DEF O_MOUTH        EQU O_SCARF_LEFT   + 1
DEF Y_MOUTH        EQU  72
DEF X_MOUTH        EQU 142

DEF T_BEARD        EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.end - JudgeObj8Tiles) + (JudgeObj16Tiles.beard - JudgeObj16Tiles) / 2) / 4"
DEF O_BEARD        EQU  O_MOUTH      + 1
DEF Y_BEARD        EQU  80
DEF X_BEARD        EQU 142

DEF T_CHAIN        EQU $00
DEF T_SCALE_CONF   EQU T_CHAIN       + 2
DEF T_STRING2      EQU T_SCALE_CONF  + 2
DEF T_PLATE_SIDE   EQU T_STRING2     + 2
DEF T_STRING       EQU T_PLATE_SIDE  + 2
DEF T_PLATE_LEFT1  EQU T_STRING      + 2
DEF T_PLATE_LEFT2  EQU T_PLATE_LEFT1 + 2
DEF T_PLATE        EQU T_PLATE_LEFT2 + 2

DEF T_SOUL         EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.end - JudgeObj8Tiles) + (JudgeObj16Tiles.soul - JudgeObj16Tiles) / 2) / 4"

DEF O_SOUL         EQU O_BEARD + 1
DEF H_SOUL         EQU   2
DEF W_SOUL         EQU   2
DEF X_SOUL         EQU  28

DEF Y_SOUL_0       EQU 104
DEF Y_SOUL_1       EQU Y_SOUL_0 - 1
DEF Y_SOUL_2       EQU Y_SOUL_0 - 3
DEF Y_SOUL_3       EQU Y_SOUL_0 - 4
DEF Y_SOUL_4       EQU Y_SOUL_0 - 4
DEF Y_SOUL_5       EQU Y_SOUL_0 - 3
DEF Y_SOUL_6       EQU Y_SOUL_0 - 2
DEF Y_SOUL_7       EQU Y_SOUL_0 - 1

DEF T_FEATHER      EQUS "((JudgeChainTiles.end - JudgeChainTiles) / 2 + (JudgeObj8Tiles.end - JudgeObj8Tiles) + (JudgeObj16Tiles.feather - JudgeObj16Tiles) / 2) / 4"
DEF O_FEATHER      EQU O_SOUL + W_SOUL
DEF H_FEATHER      EQU   2
DEF W_FEATHER      EQU   1
DEF X_FEATHER      EQU  88

DEF Y_FEATHER_0    EQU  88
DEF Y_FEATHER_1    EQU  Y_FEATHER_0 + 1
DEF Y_FEATHER_2    EQU  Y_FEATHER_0 + 2
DEF Y_FEATHER_3    EQU  Y_FEATHER_0 + 3
DEF Y_FEATHER_4    EQU  Y_FEATHER_0 + 4
DEF Y_FEATHER_5    EQU  Y_FEATHER_0 + 3
DEF Y_FEATHER_6    EQU  Y_FEATHER_0 + 2
DEF Y_FEATHER_7    EQU  Y_FEATHER_0 + 1

DEF H_CHAIN_LEFT   EQU   3
DEF X_CHAIN_LEFT   EQU  32
FOR I, 8
	DEF Y_CHAIN_LEFT_{d:I}  EQU Y_SOUL_{d:I} - 16 * H_CHAIN_LEFT
ENDR

DEF H_CHAIN_RIGHT  EQU   2
DEF X_CHAIN_RIGHT  EQU  88
FOR I, 8
	DEF Y_CHAIN_RIGHT_{d:I} EQU Y_SOUL_0 - Y_SOUL_{d:I} + 70 - 16 * H_CHAIN_RIGHT
ENDR

DEF W_PLATE        EQU   5

DEF O_CHAIN_LEFT   EQU O_FEATHER      + W_FEATHER
DEF O_STRING_LEFT  EQU O_CHAIN_LEFT   + H_CHAIN_LEFT
DEF O_PLATE_LEFT   EQU O_STRING_LEFT  + 4

DEF X_PLATE_LEFT1  EQU X_CHAIN_LEFT   - TILE_WIDTH
DEF X_PLATE_LEFT2  EQU X_PLATE_LEFT1  + TILE_WIDTH
DEF X_PLATE_LEFT3  EQU X_PLATE_LEFT2  + TILE_WIDTH

DEF O_CHAIN_RIGHT2 EQU O_PLATE_LEFT   + W_PLATE - 2
DEF H_CHAIN_RIGHT2 EQU   1
DEF DX_CHAIN_RIGHT EQU   2

DEF O_CHAIN_RIGHT  EQU O_CHAIN_RIGHT2 + H_CHAIN_RIGHT2
DEF O_STRING_RIGHT EQU O_CHAIN_RIGHT  + H_CHAIN_RIGHT
DEF O_PLATE_RIGHT  EQU O_STRING_RIGHT + 4

DEF ROW_WAVE       EQU  14
DEF COL_WAVE       EQU   0

DEF ROW_BUBBLE     EQU  15
DEF COL_BUBBLE0    EQU   0
DEF COL_BUBBLE1    EQU   6
DEF COL_BUBBLE2    EQU  13
DEF COL_BUBBLE3    EQU  17

DEF W_FIN          EQU   4
DEF MAP_FIN        EQU TILEMAP0
DEF ROW_FIN        EQU  15
DEF COL_FIN        EQU   9

DEF W_PAW          EQU   4
DEF H_PAW          EQU   3
DEF MAP_PAW        EQU TILEMAP0
DEF ROW_PAW        EQU   2
DEF COL_PAW        EQU   5

DEF ROW_CAT        EQU  10
DEF COL_CAT        EQU  15

DEF T_HEALTH_FULL  EQU $0D
DEF T_HEALTH_EMPTY EQU $0E

DEF MAP_HEALTH     EQU  TILEMAP1
DEF ROW_HEALTH     EQU   0
DEF COL_HEALTH     EQU  16

DEF T_TOP_LEFT1    EQUS "(JudgeBack2Tiles.end - JudgeBack2Tiles) >> 3 | $80"
DEF T_TOP_LEFT2    EQUS "T_TOP_LEFT1 + 1"
DEF COL_TOP_LEFT   EQU   3
DEF ROW_TOP_LEFT   EQU   4

DEF T_TOP_RIGHT    EQUS "T_TOP_LEFT2 + 1"
DEF COL_TOP_RIGHT  EQU  10
DEF ROW_TOP_RIGHT  EQU   2

DEF T_SCARF_TIP    EQU $27

DEF MUSIC_DELAY    EQU $40
DEF MUSIC_STEREO   EQU   1
